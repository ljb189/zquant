# Copyright 2025 ZQuant Authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# ============================================
# ZQuant Docker 部署环境变量配置
# ============================================
# 使用方法：
# 1. 复制此文件为 .env: cp docker/.env.example docker/.env
# 2. 根据实际情况修改配置值
# 3. 确保所有必填项都已正确配置
# ============================================

# ============================================
# 数据库配置（必填）
# ============================================
DB_HOST=mysql
DB_PORT=3306
DB_USER=root
DB_PASSWORD=zquant123456
DB_NAME=zquant
DB_CHARSET=utf8mb4

# ============================================
# Redis 配置（必填）
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# Redis 密码（可选，如果设置了密码，取消下面的注释并设置密码）
# REDIS_PASSWORD=your_redis_password

# ============================================
# 应用安全配置（必填）
# ============================================
# JWT 密钥（必须修改为强密码，用于生成和验证 Token）
# 生成方式：python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-this-in-production

# 加密密钥（可选，用于加密敏感配置）
# 生成方式：python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# ENCRYPTION_KEY=your-encryption-key

# ============================================
# Tushare 数据源配置（必填）
# ============================================
# 获取 Token：访问 https://tushare.pro/ 注册并获取
# 注意：Tushare Token 需要通过管理后台或 API 配置，这里仅作为参考
# TUSHARE_TOKEN=your-tushare-token

# ============================================
# 应用运行配置（可选）
# ============================================
# 工作进程数（根据服务器 CPU 核心数调整，建议为 CPU 核心数）
WORKERS=1

# 日志级别：DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=info

# 是否在容器启动时初始化数据库（首次部署时设置为 true）
INIT_DATABASE=false

# ============================================
# 其他配置（可选）
# ============================================
# 应用调试模式（生产环境应设置为 false）
DEBUG=false

# 应用端口（容器内部端口，通常不需要修改）
APP_PORT=8000

# 应用主机地址（容器内部地址，通常不需要修改）
APP_HOST=127.0.0.1
